(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AppList"],{"0683":function(e,t,a){},"0b6a":function(e,t,a){"use strict";a("6da3")},"0fd5":function(e,t,a){"use strict";a("0683")},2574:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-input-search",{attrs:{placeholder:"输入表单名查找","enter-button":"",allowClear:""},on:{search:e.getPostInfoCateList},model:{value:e.queryParam.app_name,callback:function(t){e.$set(e.queryParam,"app_name",t)},expression:"queryParam.app_name"}})],1),a("a-col",{attrs:{span:3,offset:1}},[a("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择分类"},on:{change:e.gotoCatePage}},e._l(e.Catelist,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1)],1),a("a-col",{attrs:{span:3,offset:1}},[a("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择状态"},on:{change:e.gotoTagPage}},e._l(e.Taglist,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.tag_name))])})),1)],1),a("a-col",{attrs:{span:1,offset:1}},[a("a-button",{attrs:{type:"info"},on:{click:function(t){return e.$router.push("/postinfo")}}},[e._v("显示全部")])],1)],1),a("a-table",{attrs:{rowKey:"ID",columns:e.columns,pagination:e.pagination,dataSource:e.PostInfoCatelist,bordered:""},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t){return[a("div",{staticClass:"actionSlot"},[a("a-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small",type:"primary",icon:"edit"},on:{click:function(a){return e.editPostInfoCate(t.ID)}}},[e._v("编辑")]),a("a-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small",type:"danger",icon:"delete"},on:{click:function(a){return e.deletePostInfoCate(t.ID)}}},[e._v("删除")])],1)]}}])})],1),a("a-modal",{attrs:{closable:"",visible:e.editPostInfoCateVisible,width:"60%",destroyOnClose:""},on:{ok:e.editPostInfoCateOk,cancel:e.editPostInfoCateCancel}},[a("a-form-model",{model:{value:e.PostInfoCate,callback:function(t){e.PostInfoCate=t},expression:"PostInfoCate"}},[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{label:"提供人"}},[a("a-input",{model:{value:e.PostInfoCate.user_name,callback:function(t){e.$set(e.PostInfoCate,"user_name",t)},expression:"PostInfoCate.user_name"}})],1)],1),a("a-col",{attrs:{span:6,offset:4}},[a("a-form-model-item",{attrs:{label:"提供人邮箱"}},[a("a-input",{model:{value:e.PostInfoCate.email,callback:function(t){e.$set(e.PostInfoCate,"email",t)},expression:"PostInfoCate.email"}})],1)],1)],1),a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{label:"App分类"}},[a("a-select",{on:{change:e.cateChange},model:{value:e.PostInfoCate.category_id,callback:function(t){e.$set(e.PostInfoCate,"category_id",t)},expression:"PostInfoCate.category_id"}},e._l(e.Catelist,(function(t){return a("a-select-option",{key:t.id},[e._v(e._s(t.name))])})),1)],1)],1),a("a-col",{attrs:{span:6,offset:4}},[a("a-form-model-item",{attrs:{label:"状态"}},[a("a-select",{on:{change:e.tagChange},model:{value:e.PostInfoCate.tag_id,callback:function(t){e.$set(e.PostInfoCate,"tag_id",t)},expression:"PostInfoCate.tag_id"}},e._l(e.Taglist,(function(t){return a("a-select-option",{key:t.id},[e._v(e._s(t.tag_name))])})),1)],1)],1)],1),a("a-form-model-item",{attrs:{label:"App名称"}},[a("a-input",{model:{value:e.PostInfoCate.app_name,callback:function(t){e.$set(e.PostInfoCate,"app_name",t)},expression:"PostInfoCate.app_name"}})],1),a("a-form-model-item",{attrs:{label:"App版本"}},[a("a-input",{model:{value:e.PostInfoCate.app_verison,callback:function(t){e.$set(e.PostInfoCate,"app_verison",t)},expression:"PostInfoCate.app_verison"}})],1),a("a-form-model-item",{attrs:{label:"App网站"}},[a("a-input",{model:{value:e.PostInfoCate.app_website,callback:function(t){e.$set(e.PostInfoCate,"app_website",t)},expression:"PostInfoCate.app_website"}})],1),a("a-form-model-item",{attrs:{label:"开发者"}},[a("a-input",{model:{value:e.PostInfoCate.app_developer,callback:function(t){e.$set(e.PostInfoCate,"app_developer",t)},expression:"PostInfoCate.app_developer"}})],1),a("a-form-model-item",{attrs:{label:"App描述"}},[a("a-input",{attrs:{type:"textarea"},model:{value:e.PostInfoCate.app_desc,callback:function(t){e.$set(e.PostInfoCate,"app_desc",t)},expression:"PostInfoCate.app_desc"}})],1)],1)],1)],1)},o=[],s=a("5530"),r=(a("96cf"),a("1da1")),i=a("c1df"),c=a.n(i),p=[{title:"ID",dataIndex:"ID",width:"5%",key:"id",align:"center"},{title:"提交日期",dataIndex:"CreatedAt",width:"10%",key:"CreatedAt",align:"center",customRender:function(e){return e?c()(e).format("YYYY年MM月DD日"):"暂无"}},{title:"分类",dataIndex:"Category.name",width:"10%",key:"Category.name",align:"center"},{title:"App名称",dataIndex:"app_name",width:"10%",key:"app_name",align:"center"},{title:"App状态",dataIndex:"Tag.tag_name",width:"15%",key:"Tag.tag_name",align:"center"},{title:"开发者",dataIndex:"app_developer",width:"15%",key:"app_developer",align:"center"},{title:"提交者",dataIndex:"user_name",width:"10%",key:"user_name",align:"center"},{title:"提交者邮箱",dataIndex:"email",width:"10%",key:"email",align:"center"},{title:"操作",width:"15%",key:"action",align:"center",scopedSlots:{customRender:"action"}}],l={props:["id"],data:function(){return{pagination:{pageSizeOptions:["5","10","20"],pageSize:10,total:0,showSizeChanger:!0,showTotal:function(e){return"共".concat(e,"条")}},PostInfoCatelist:[],Catelist:[],Taglist:[],columns:p,addPostInfoCateVisible:!1,editPostInfoCateVisible:!1,queryParam:{app_name:"",pagesize:10,pagenum:1},newPostInfoCate:{app_name:"",app_version:"",app_webpage:"",app_desc:"",app_developer:"",user_name:"",email:"",category_id:2,tag_id:1},PostInfoCate:{app_name:"",app_version:"",app_webpage:"",app_desc:"",app_developer:"",user_name:"",email:"",category_id:2,tag_id:1}}},created:function(){this.getPostInfoCateList(),this.getCateList(),this.getTaglist()},methods:{getPostInfoCateList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("postinfo/category/".concat(e.id),{params:{app_name:e.queryParam.app_name,pagesize:e.queryParam.pagesize,pagenum:e.queryParam.pagenum}});case 2:a=t.sent,n=a.data,200!==n.status&&(n.status,window.sessionStorage.clear(),e.$router.push("/login"),e.$message.error(n.message)),e.PostInfoCatelist=n.data,e.pagination.total=n.total;case 7:case"end":return t.stop()}}),t)})))()},getCateList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("category/list");case 2:if(a=t.sent,n=a.data,200===n.status){t.next=6;break}return t.abrupt("return",e.$message.error(n.message));case 6:e.Catelist=n.data;case 7:case"end":return t.stop()}}),t)})))()},getTaglist:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("tag/list");case 2:if(a=t.sent,n=a.data,200===n.status){t.next=6;break}return t.abrupt("return",e.$message.error(n.message));case 6:e.Taglist=n.data;case 7:case"end":return t.stop()}}),t)})))()},handleTableChange:function(e,t,a){var n=Object(s["a"])({},this.pagination);n.current=e.current,n.pageSize=e.pageSize,this.queryParam.pagesize=e.pageSize,this.queryParam.pagenum=e.current,e.pageSize!==this.pagination.pageSize&&(this.queryParam.pagenum=1,n.current=1),this.pagination=n,this.getPostInfoCateList()},cateChange:function(e){this.newPostInfoCate.category_id=e},tagChange:function(e){this.newPostInfoCate.tag_id=e},deletePostInfoCate:function(e){var t=this;this.$confirm({title:"提示：请再次确认",content:"确定要删除该文章吗？一旦删除，无法恢复",onOk:function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.delete("postinfo/delete/".concat(e));case 2:if(n=a.sent,o=n.data,200==o.status){a.next=6;break}return a.abrupt("return",t.$message.error(o.message));case 6:t.$message.success("删除成功"),t.getPostInfoCateList();case 8:case"end":return a.stop()}}),a)})));function n(){return a.apply(this,arguments)}return n}(),onCancel:function(){t.$message.info("已取消删除")}})},editPostInfoCate:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.editPostInfoCateVisible=!0,a.next=3,t.$http.get("postinfo/info/".concat(e));case 3:n=a.sent,o=n.data,t.PostInfoCate=o.data,t.PostInfoCate.id=e;case 7:case"end":return a.stop()}}),a)})))()},editPostInfoCateOk:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.put("postinfo/edit/".concat(e.PostInfoCate.id),e.PostInfoCate);case 2:if(a=t.sent,n=a.data,200==n.status){t.next=6;break}return t.abrupt("return",e.$message.error(n.message));case 6:e.editPostInfoCateVisible=!1,e.$message.success("更新分类信息成功"),e.getPostInfoCateList();case 9:case"end":return t.stop()}}),t)})))()},editPostInfoCateCancel:function(){this.editPostInfoCateVisible=!1,this.$message.info("编辑已取消")},gotoCatePage:function(e){this.$router.push("/postinfo/catelist/".concat(e))},gotoTagPage:function(e){this.$router.push("/postinfo/taglist/".concat(e))}}},u=l,f=(a("c048"),a("2877")),d=Object(f["a"])(u,n,o,!1,null,"69b89495",null);t["default"]=d.exports},4952:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-input-search",{attrs:{placeholder:"输入表单名查找","enter-button":"",allowClear:""},on:{search:e.getPostInfoList},model:{value:e.queryParam.app_name,callback:function(t){e.$set(e.queryParam,"app_name",t)},expression:"queryParam.app_name"}})],1),a("a-col",{attrs:{span:4}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){e.addPostInfoVisible=!0}}},[e._v("新增")])],1),a("a-col",{attrs:{span:3}},[a("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择分类"},on:{change:e.gotoCatePage}},e._l(e.Catelist,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1)],1),a("a-col",{attrs:{span:1}},[a("a-button",{attrs:{type:"info"},on:{click:function(t){return e.router.push("postinfo")}}},[e._v("显示全部")])],1),a("a-col",{attrs:{span:3,offset:2}},[a("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择状态"},on:{change:e.gotoTagPage}},e._l(e.Taglist,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.tag_name))])})),1)],1),a("a-col",{attrs:{span:1}},[a("a-button",{attrs:{type:"info"},on:{click:function(t){return e.router.push("postinfo")}}},[e._v("显示全部")])],1)],1),a("a-table",{attrs:{rowKey:"ID",columns:e.columns,pagination:e.pagination,dataSource:e.PostInfolist,bordered:""},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t){return[a("div",{staticClass:"actionSlot"},[a("a-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small",type:"primary",icon:"edit"},on:{click:function(a){return e.editPostInfo(t.ID)}}},[e._v("编辑")]),a("a-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small",type:"danger",icon:"delete"},on:{click:function(a){return e.deletePostInfo(t.ID)}}},[e._v("删除")])],1)]}}])})],1),a("a-modal",{attrs:{closable:"",visible:e.addPostInfoVisible,width:"60%",destroyOnClose:""},on:{ok:e.addPostInfoOk,cancel:e.addPostInfoCancel}},[a("a-form-model",{model:{value:e.newPostInfo,callback:function(t){e.newPostInfo=t},expression:"newPostInfo"}},[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{label:"提供人"}},[a("a-input",{model:{value:e.newPostInfo.user_name,callback:function(t){e.$set(e.newPostInfo,"user_name",t)},expression:"newPostInfo.user_name"}})],1)],1),a("a-col",{attrs:{span:6,offset:4}},[a("a-form-model-item",{attrs:{label:"提供人邮箱"}},[a("a-input",{model:{value:e.newPostInfo.email,callback:function(t){e.$set(e.newPostInfo,"email",t)},expression:"newPostInfo.email"}})],1)],1)],1),a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{label:"App分类"}},[a("a-select",{on:{change:e.cateChange},model:{value:e.newPostInfo.category_id,callback:function(t){e.$set(e.newPostInfo,"category_id",t)},expression:"newPostInfo.category_id"}},e._l(e.Catelist,(function(t){return a("a-select-option",{key:t.id},[e._v(e._s(t.name))])})),1)],1)],1),a("a-col",{attrs:{span:6,offset:4}},[a("a-form-model-item",{attrs:{label:"状态"}},[a("a-select",{on:{change:e.tagChange},model:{value:e.newPostInfo.tag_id,callback:function(t){e.$set(e.newPostInfo,"tag_id",t)},expression:"newPostInfo.tag_id"}},e._l(e.Taglist,(function(t){return a("a-select-option",{key:t.id},[e._v(e._s(t.tag_name))])})),1)],1)],1)],1),a("a-form-model-item",{attrs:{label:"App名称"}},[a("a-input",{model:{value:e.newPostInfo.app_name,callback:function(t){e.$set(e.newPostInfo,"app_name",t)},expression:"newPostInfo.app_name"}})],1),a("a-form-model-item",{attrs:{label:"App版本"}},[a("a-input",{model:{value:e.newPostInfo.app_verison,callback:function(t){e.$set(e.newPostInfo,"app_verison",t)},expression:"newPostInfo.app_verison"}})],1),a("a-form-model-item",{attrs:{label:"App网站"}},[a("a-input",{model:{value:e.newPostInfo.app_website,callback:function(t){e.$set(e.newPostInfo,"app_website",t)},expression:"newPostInfo.app_website"}})],1),a("a-form-model-item",{attrs:{label:"开发者"}},[a("a-input",{model:{value:e.newPostInfo.app_developer,callback:function(t){e.$set(e.newPostInfo,"app_developer",t)},expression:"newPostInfo.app_developer"}})],1),a("a-form-model-item",{attrs:{label:"App描述"}},[a("a-input",{attrs:{type:"textarea"},model:{value:e.newPostInfo.app_desc,callback:function(t){e.$set(e.newPostInfo,"app_desc",t)},expression:"newPostInfo.app_desc"}})],1)],1)],1),a("a-modal",{attrs:{closable:"",visible:e.editPostInfoVisible,width:"60%",destroyOnClose:""},on:{ok:e.editPostInfoOk,cancel:e.editPostInfoCancel}},[a("a-form-model",{model:{value:e.PostInfo,callback:function(t){e.PostInfo=t},expression:"PostInfo"}},[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{label:"提供人"}},[a("a-input",{model:{value:e.PostInfo.user_name,callback:function(t){e.$set(e.PostInfo,"user_name",t)},expression:"PostInfo.user_name"}})],1)],1),a("a-col",{attrs:{span:6,offset:4}},[a("a-form-model-item",{attrs:{label:"提供人邮箱"}},[a("a-input",{model:{value:e.PostInfo.email,callback:function(t){e.$set(e.PostInfo,"email",t)},expression:"PostInfo.email"}})],1)],1)],1),a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{label:"App分类"}},[a("a-select",{on:{change:e.cateChange},model:{value:e.PostInfo.category_id,callback:function(t){e.$set(e.PostInfo,"category_id",t)},expression:"PostInfo.category_id"}},e._l(e.Catelist,(function(t){return a("a-select-option",{key:t.id},[e._v(e._s(t.name))])})),1)],1)],1),a("a-col",{attrs:{span:6,offset:4}},[a("a-form-model-item",{attrs:{label:"状态"}},[a("a-select",{on:{change:e.tagChange},model:{value:e.PostInfo.tag_id,callback:function(t){e.$set(e.PostInfo,"tag_id",t)},expression:"PostInfo.tag_id"}},e._l(e.Taglist,(function(t){return a("a-select-option",{key:t.id},[e._v(e._s(t.tag_name))])})),1)],1)],1)],1),a("a-form-model-item",{attrs:{label:"App名称"}},[a("a-input",{model:{value:e.PostInfo.app_name,callback:function(t){e.$set(e.PostInfo,"app_name",t)},expression:"PostInfo.app_name"}})],1),a("a-form-model-item",{attrs:{label:"App版本"}},[a("a-input",{model:{value:e.PostInfo.app_verison,callback:function(t){e.$set(e.PostInfo,"app_verison",t)},expression:"PostInfo.app_verison"}})],1),a("a-form-model-item",{attrs:{label:"App网站"}},[a("a-input",{model:{value:e.PostInfo.app_website,callback:function(t){e.$set(e.PostInfo,"app_website",t)},expression:"PostInfo.app_website"}})],1),a("a-form-model-item",{attrs:{label:"开发者"}},[a("a-input",{model:{value:e.PostInfo.app_developer,callback:function(t){e.$set(e.PostInfo,"app_developer",t)},expression:"PostInfo.app_developer"}})],1),a("a-form-model-item",{attrs:{label:"App描述"}},[a("a-input",{attrs:{type:"textarea"},model:{value:e.PostInfo.app_desc,callback:function(t){e.$set(e.PostInfo,"app_desc",t)},expression:"PostInfo.app_desc"}})],1)],1)],1)],1)},o=[],s=a("5530"),r=(a("96cf"),a("1da1")),i=a("c1df"),c=a.n(i),p=[{title:"ID",dataIndex:"ID",width:"5%",key:"id",align:"center"},{title:"提交日期",dataIndex:"CreatedAt",width:"10%",key:"CreatedAt",align:"center",customRender:function(e){return e?c()(e).format("YYYY年MM月DD日"):"暂无"}},{title:"分类",dataIndex:"Category.name",width:"10%",key:"Category.name",align:"center"},{title:"App名称",dataIndex:"app_name",width:"10%",key:"app_name",align:"center"},{title:"App状态",dataIndex:"Tag.tag_name",width:"15%",key:"Tag.tag_name",align:"center"},{title:"开发者",dataIndex:"app_developer",width:"15%",key:"app_developer",align:"center"},{title:"提交者",dataIndex:"user_name",width:"10%",key:"user_name",align:"center"},{title:"提交者邮箱",dataIndex:"email",width:"10%",key:"email",align:"center"},{title:"操作",width:"15%",key:"action",align:"center",scopedSlots:{customRender:"action"}}],l={data:function(){return{pagination:{pageSizeOptions:["5","10","20"],pageSize:10,total:0,showSizeChanger:!0,showTotal:function(e){return"共".concat(e,"条")}},PostInfolist:[],Catelist:[],Taglist:[],columns:p,addPostInfoVisible:!1,editPostInfoVisible:!1,queryParam:{app_name:"",pagesize:10,pagenum:1},newPostInfo:{app_name:"",app_version:"",app_webpage:"",app_desc:"",app_developer:"",user_name:"",email:"",category_id:2,tag_id:1},PostInfo:{app_name:"",app_version:"",app_webpage:"",app_desc:"",app_developer:"",user_name:"",email:"",category_id:2,tag_id:1}}},created:function(){this.getPostInfoList(),this.getCateList(),this.getTaglist()},methods:{getPostInfoList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("postinfo/list",{params:{app_name:e.queryParam.app_name,pagesize:e.queryParam.pagesize,pagenum:e.queryParam.pagenum}});case 2:a=t.sent,n=a.data,200!==n.status&&(n.status,window.sessionStorage.clear(),e.$router.push("/login"),e.$message.error(n.message)),e.PostInfolist=n.data,e.pagination.total=n.total;case 7:case"end":return t.stop()}}),t)})))()},getCateList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("category/list");case 2:if(a=t.sent,n=a.data,200===n.status){t.next=6;break}return t.abrupt("return",e.$message.error(n.message));case 6:e.Catelist=n.data;case 7:case"end":return t.stop()}}),t)})))()},getTaglist:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("tag/list");case 2:if(a=t.sent,n=a.data,200===n.status){t.next=6;break}return t.abrupt("return",e.$message.error(n.message));case 6:e.Taglist=n.data;case 7:case"end":return t.stop()}}),t)})))()},handleTableChange:function(e,t,a){var n=Object(s["a"])({},this.pagination);n.current=e.current,n.pageSize=e.pageSize,this.queryParam.pagesize=e.pageSize,this.queryParam.pagenum=e.current,e.pageSize!==this.pagination.pageSize&&(this.queryParam.pagenum=1,n.current=1),this.pagination=n,this.getPostInfoList()},addPostInfoOk:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("postinfo/add",e.newPostInfo);case 2:if(a=t.sent,n=a.data,200==n.status){t.next=6;break}return t.abrupt("return",e.$message.error(n.message));case 6:return e.addPostInfoVisible=!1,e.$message.success("添加表单成功"),t.next=10,e.getPostInfoList();case 10:case"end":return t.stop()}}),t)})))()},addPostInfoCancel:function(){this.addPostInfoVisible=!1,this.$message.info("新增表单已取消")},cateChange:function(e){this.newPostInfo.category_id=e},tagChange:function(e){this.newPostInfo.tag_id=e},deletePostInfo:function(e){var t=this;this.$confirm({title:"提示：请再次确认",content:"确定要删除该文章吗？一旦删除，无法恢复",onOk:function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.delete("postinfo/delete/".concat(e));case 2:if(n=a.sent,o=n.data,200==o.status){a.next=6;break}return a.abrupt("return",t.$message.error(o.message));case 6:t.$message.success("删除成功"),t.getPostInfoList();case 8:case"end":return a.stop()}}),a)})));function n(){return a.apply(this,arguments)}return n}(),onCancel:function(){t.$message.info("已取消删除")}})},editPostInfo:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.editPostInfoVisible=!0,a.next=3,t.$http.get("postinfo/info/".concat(e));case 3:n=a.sent,o=n.data,t.PostInfo=o.data,t.PostInfo.id=e;case 7:case"end":return a.stop()}}),a)})))()},editPostInfoOk:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.put("postinfo/edit/".concat(e.PostInfo.id),e.PostInfo);case 2:if(a=t.sent,n=a.data,200==n.status){t.next=6;break}return t.abrupt("return",e.$message.error(n.message));case 6:e.editPostInfoVisible=!1,e.$message.success("更新分类信息成功"),e.getPostInfoList();case 9:case"end":return t.stop()}}),t)})))()},editPostInfoCancel:function(){this.editPostInfoVisible=!1,this.$message.info("编辑已取消")},gotoCatePage:function(e){this.$router.push("/postinfo/catelist/".concat(e))},gotoTagPage:function(e){this.$router.push("/postinfo/taglist/".concat(e))}}},u=l,f=(a("0fd5"),a("2877")),d=Object(f["a"])(u,n,o,!1,null,"77f34ef2",null);t["default"]=d.exports},"4ed7":function(e,t,a){},"6da3":function(e,t,a){},c048:function(e,t,a){"use strict";a("4ed7")},d054:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-input-search",{attrs:{placeholder:"输入App名查找","enter-button":"",allowClear:""},on:{search:e.getPostInfoList},model:{value:e.queryParam.app_name,callback:function(t){e.$set(e.queryParam,"app_name",t)},expression:"queryParam.app_name"}})],1),a("a-col",{attrs:{span:3,offset:2}},[a("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择分类"},on:{change:e.gotoCatePage}},e._l(e.Catelist,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1)],1),a("a-col",{attrs:{span:1}},[a("a-button",{attrs:{type:"info"},on:{click:function(t){return e.router.push("postinfo")}}},[e._v("显示全部")])],1)],1),a("a-table",{attrs:{rowKey:"ID",columns:e.columns,pagination:e.pagination,dataSource:e.PostInfolist,bordered:""},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t){return[a("div",{staticClass:"actionSlot"},[a("a-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small",type:"danger",icon:"edit"},on:{click:function(a){return e.appPost(t.ID)}}},[e._v("提交")]),a("a-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small",type:"primary",icon:"edit"},on:{click:function(a){return e.editPostInfo(t.ID)}}},[e._v("编辑")]),a("a-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small",type:"danger",icon:"delete"},on:{click:function(a){return e.deletePostInfo(t.ID)}}},[e._v("删除")])],1)]}}])})],1),a("a-modal",{attrs:{closable:"",visible:e.editPostInfoVisible,width:"60%",destroyOnClose:""},on:{ok:e.editPostInfoOk,cancel:e.editPostInfoCancel}},[a("a-form-model",{model:{value:e.EditPostInfo,callback:function(t){e.EditPostInfo=t},expression:"EditPostInfo"}},[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{label:"提供人"}},[a("a-input",{model:{value:e.EditPostInfo.user_name,callback:function(t){e.$set(e.EditPostInfo,"user_name",t)},expression:"EditPostInfo.user_name"}})],1)],1),a("a-col",{attrs:{span:6,offset:4}},[a("a-form-model-item",{attrs:{label:"提供人邮箱"}},[a("a-input",{model:{value:e.EditPostInfo.email,callback:function(t){e.$set(e.EditPostInfo,"email",t)},expression:"EditPostInfo.email"}})],1)],1)],1),a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{label:"App分类"}},[a("a-select",{on:{change:e.cateEditChange},model:{value:e.EditPostInfo.category_id,callback:function(t){e.$set(e.EditPostInfo,"category_id",t)},expression:"EditPostInfo.category_id"}},e._l(e.Catelist,(function(t){return a("a-select-option",{key:t.id},[e._v(e._s(t.name))])})),1)],1)],1),a("a-col",{attrs:{span:6,offset:4}},[a("a-form-model-item",{attrs:{label:"状态"}},[a("a-select",{on:{change:e.tagEditChange},model:{value:e.EditPostInfo.tag_id,callback:function(t){e.$set(e.EditPostInfo,"tag_id",t)},expression:"EditPostInfo.tag_id"}},e._l(e.Taglist,(function(t){return a("a-select-option",{key:t.id},[e._v(e._s(t.tag_name))])})),1)],1)],1)],1),a("a-form-model-item",{attrs:{label:"App名称"}},[a("a-input",{model:{value:e.EditPostInfo.app_name,callback:function(t){e.$set(e.EditPostInfo,"app_name",t)},expression:"EditPostInfo.app_name"}})],1),a("a-form-model-item",{attrs:{label:"App版本"}},[a("a-input",{model:{value:e.EditPostInfo.app_version,callback:function(t){e.$set(e.EditPostInfo,"app_version",t)},expression:"EditPostInfo.app_version"}})],1),a("a-form-model-item",{attrs:{label:"App网站"}},[a("a-input",{model:{value:e.EditPostInfo.app_webpage,callback:function(t){e.$set(e.EditPostInfo,"app_webpage",t)},expression:"EditPostInfo.app_webpage"}})],1),a("a-form-model-item",{attrs:{label:"开发者"}},[a("a-input",{model:{value:e.EditPostInfo.app_developer,callback:function(t){e.$set(e.EditPostInfo,"app_developer",t)},expression:"EditPostInfo.app_developer"}})],1),a("a-form-model-item",{attrs:{label:"App描述"}},[a("a-input",{attrs:{type:"textarea"},model:{value:e.EditPostInfo.app_desc,callback:function(t){e.$set(e.EditPostInfo,"app_desc",t)},expression:"EditPostInfo.app_desc"}})],1)],1)],1)],1)},o=[],s=a("5530"),r=(a("96cf"),a("1da1")),i=a("c1df"),c=a.n(i),p=[{title:"ID",dataIndex:"ID",width:"5%",key:"id",align:"center"},{title:"提交日期",dataIndex:"CreatedAt",width:"10%",key:"CreatedAt",align:"center",customRender:function(e){return e?c()(e).format("YYYY年MM月DD日"):"暂无"}},{title:"分类",dataIndex:"Category.name",width:"10%",key:"Category.name",align:"center"},{title:"App名称",dataIndex:"app_name",width:"10%",key:"app_name",align:"center"},{title:"App状态",dataIndex:"Tag.tag_name",width:"15%",key:"Tag.tag_name",align:"center"},{title:"开发者",dataIndex:"app_developer",width:"10%",key:"app_developer",align:"center"},{title:"提交者",dataIndex:"user_name",width:"10%",key:"user_name",align:"center"},{title:"提交者邮箱",dataIndex:"email",width:"10%",key:"email",align:"center"},{title:"操作",width:"15%",key:"action",align:"center",scopedSlots:{customRender:"action"}}],l={data:function(){return{pagination:{pageSizeOptions:["5","10","20"],pageSize:10,total:0,showSizeChanger:!0,showTotal:function(e){return"共".concat(e,"条")}},PostInfolist:[],Catelist:[],Taglist:[],columns:p,addPostInfoVisible:!1,editPostInfoVisible:!1,queryParam:{app_name:"",pagesize:10,pagenum:1},newPostInfo:{app_name:"",app_version:"",app_webpage:"",app_desc:"",app_developer:"",user_name:"",email:"",category_id:2,tag_id:1},appInfo:{app_name:"",app_version:"",app_webpage:"",app_desc:"",app_developer:"",user_name:"",email:"",category_id:void 0,tag_id:void 0},PostInfo:{ID:void 0,app_name:"",app_version:"",app_webpage:"",app_desc:"",app_developer:"",user_name:"",email:"",category_id:void 0,tag_id:void 0},EditPostInfo:{ID:void 0,app_name:"",app_version:"",app_webpage:"",app_desc:"",app_developer:"",user_name:"",email:"",category_id:void 0,tag_id:void 0}}},created:function(){this.getPostInfoList(),this.getCateList(),this.getTaglist()},methods:{getPostInfoList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("postinfo/list",{params:{app_name:e.queryParam.app_name,pagesize:e.queryParam.pagesize,pagenum:e.queryParam.pagenum}});case 2:a=t.sent,n=a.data,200!==n.status&&(n.status,window.sessionStorage.clear(),e.$router.push("/login"),e.$message.error(n.message)),e.PostInfolist=n.data,e.pagination.total=n.total;case 7:case"end":return t.stop()}}),t)})))()},getCateList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("category/list");case 2:if(a=t.sent,n=a.data,200===n.status){t.next=6;break}return t.abrupt("return",e.$message.error(n.message));case 6:e.Catelist=n.data;case 7:case"end":return t.stop()}}),t)})))()},getTaglist:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("tag/list");case 2:if(a=t.sent,n=a.data,200===n.status){t.next=6;break}return t.abrupt("return",e.$message.error(n.message));case 6:e.Taglist=n.data;case 7:case"end":return t.stop()}}),t)})))()},handleTableChange:function(e,t,a){var n=Object(s["a"])({},this.pagination);n.current=e.current,n.pageSize=e.pageSize,this.queryParam.pagesize=e.pageSize,this.queryParam.pagenum=e.current,e.pageSize!==this.pagination.pageSize&&(this.queryParam.pagenum=1,n.current=1),this.pagination=n,this.getPostInfoList()},addPostInfoOk:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("postinfo/add",e.newPostInfo);case 2:if(a=t.sent,n=a.data,200==n.status){t.next=6;break}return t.abrupt("return",e.$message.error(n.message));case 6:return e.addPostInfoVisible=!1,e.$message.success("添加表单成功"),t.next=10,e.getPostInfoList();case 10:case"end":return t.stop()}}),t)})))()},addPostInfoCancel:function(){this.addPostInfoVisible=!1,this.$message.info("新增表单已取消")},cateChange:function(e){this.newPostInfo.category_id=e},tagChange:function(e){this.newPostInfo.tag_id=e},cateEditChange:function(e){this.PostInfo.category_id=e},tagEditChange:function(e){this.PostInfo.tag_id=e},deletePostInfo:function(e){var t=this;this.$confirm({title:"提示：请再次确认",content:"确定要删除该文章吗？一旦删除，无法恢复",onOk:function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.delete("postinfo/delete/".concat(e));case 2:if(n=a.sent,o=n.data,200==o.status){a.next=6;break}return a.abrupt("return",t.$message.error(o.message));case 6:t.$message.success("删除成功"),t.getPostInfoList();case 8:case"end":return a.stop()}}),a)})));function n(){return a.apply(this,arguments)}return n}(),onCancel:function(){t.$message.info("已取消删除")}})},appPost:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.get("postinfo/info/".concat(e));case 2:n=a.sent,o=n.data,t.appInfo=o.data,console.log("res.data: ",o.data),t.appInfo.ID=0,t.$confirm({title:"提示：请再次确认",content:"确定要提交该表单到appinfo吗？",onOk:function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("appinfo/add",t.appInfo);case 2:if(n=a.sent,o=n.data,200==o.status){a.next=6;break}return a.abrupt("return",t.$message.error(o.message));case 6:return t.$message.success("提交成功"),a.next=9,t.$http.delete("postinfo/delete/".concat(e));case 9:t.getPostInfoList();case 10:case"end":return a.stop()}}),a)})));function n(){return a.apply(this,arguments)}return n}(),onCancel:function(){t.$message.info("已取消提交")}});case 8:case"end":return a.stop()}}),a)})))()},editPostInfo:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.editPostInfoVisible=!0,a.next=3,t.$http.get("postinfo/info/".concat(e));case 3:n=a.sent,o=n.data,t.EditPostInfo=o.data,console.log(" this.EditPostInfo: ",t.EditPostInfo),console.log("res.data: ",o.data),t.PostInfo.ID=o.data.ID;case 9:case"end":return a.stop()}}),a)})))()},editPostInfoOk:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.put("postinfo/edit/".concat(e.PostInfo.ID),e.EditPostInfo);case 2:if(a=t.sent,n=a.data,200==n.status){t.next=6;break}return t.abrupt("return",e.$message.error(n.message));case 6:e.editPostInfoVisible=!1,e.$message.success("更新表单信息成功"),e.getPostInfoList();case 9:case"end":return t.stop()}}),t)})))()},editPostInfoCancel:function(){this.editPostInfoVisible=!1,this.$message.info("编辑已取消")},gotoCatePage:function(e){this.$router.push("/postinfo/catelist/".concat(e))},gotoTagPage:function(e){this.$router.push("/postinfo/taglist/".concat(e))}}},u=l,f=(a("0b6a"),a("2877")),d=Object(f["a"])(u,n,o,!1,null,"a3f5aaa8",null);t["default"]=d.exports}}]);
//# sourceMappingURL=AppList.cb81aea5.js.map