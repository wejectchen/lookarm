(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AppList"],{"0683":function(t,e,a){},"0fd5":function(t,e,a){"use strict";a("0683")},2574:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-input-search",{attrs:{placeholder:"输入表单名查找","enter-button":"",allowClear:""},on:{search:t.getPostInfoCateList},model:{value:t.queryParam.app_name,callback:function(e){t.$set(t.queryParam,"app_name",e)},expression:"queryParam.app_name"}})],1),a("a-col",{attrs:{span:3,offset:1}},[a("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择分类"},on:{change:t.gotoCatePage}},t._l(t.Catelist,(function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1),a("a-col",{attrs:{span:3,offset:1}},[a("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择状态"},on:{change:t.gotoTagPage}},t._l(t.Taglist,(function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.tag_name))])})),1)],1),a("a-col",{attrs:{span:1,offset:1}},[a("a-button",{attrs:{type:"info"},on:{click:function(e){return t.$router.push("/postinfo")}}},[t._v("显示全部")])],1)],1),a("a-table",{attrs:{rowKey:"ID",columns:t.columns,pagination:t.pagination,dataSource:t.PostInfoCatelist,bordered:""},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"action",fn:function(e){return[a("div",{staticClass:"actionSlot"},[a("a-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small",type:"primary",icon:"edit"},on:{click:function(a){return t.editPostInfoCate(e.ID)}}},[t._v("编辑")]),a("a-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small",type:"danger",icon:"delete"},on:{click:function(a){return t.deletePostInfoCate(e.ID)}}},[t._v("删除")])],1)]}}])})],1),a("a-modal",{attrs:{closable:"",visible:t.editPostInfoCateVisible,width:"60%",destroyOnClose:""},on:{ok:t.editPostInfoCateOk,cancel:t.editPostInfoCateCancel}},[a("a-form-model",{model:{value:t.PostInfoCate,callback:function(e){t.PostInfoCate=e},expression:"PostInfoCate"}},[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{label:"提供人"}},[a("a-input",{model:{value:t.PostInfoCate.user_name,callback:function(e){t.$set(t.PostInfoCate,"user_name",e)},expression:"PostInfoCate.user_name"}})],1)],1),a("a-col",{attrs:{span:6,offset:4}},[a("a-form-model-item",{attrs:{label:"提供人邮箱"}},[a("a-input",{model:{value:t.PostInfoCate.email,callback:function(e){t.$set(t.PostInfoCate,"email",e)},expression:"PostInfoCate.email"}})],1)],1)],1),a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{label:"App分类"}},[a("a-select",{on:{change:t.cateChange},model:{value:t.PostInfoCate.category_id,callback:function(e){t.$set(t.PostInfoCate,"category_id",e)},expression:"PostInfoCate.category_id"}},t._l(t.Catelist,(function(e){return a("a-select-option",{key:e.id},[t._v(t._s(e.name))])})),1)],1)],1),a("a-col",{attrs:{span:6,offset:4}},[a("a-form-model-item",{attrs:{label:"状态"}},[a("a-select",{on:{change:t.tagChange},model:{value:t.PostInfoCate.tag_id,callback:function(e){t.$set(t.PostInfoCate,"tag_id",e)},expression:"PostInfoCate.tag_id"}},t._l(t.Taglist,(function(e){return a("a-select-option",{key:e.id},[t._v(t._s(e.tag_name))])})),1)],1)],1)],1),a("a-form-model-item",{attrs:{label:"App名称"}},[a("a-input",{model:{value:t.PostInfoCate.app_name,callback:function(e){t.$set(t.PostInfoCate,"app_name",e)},expression:"PostInfoCate.app_name"}})],1),a("a-form-model-item",{attrs:{label:"App版本"}},[a("a-input",{model:{value:t.PostInfoCate.app_verison,callback:function(e){t.$set(t.PostInfoCate,"app_verison",e)},expression:"PostInfoCate.app_verison"}})],1),a("a-form-model-item",{attrs:{label:"App网站"}},[a("a-input",{model:{value:t.PostInfoCate.app_website,callback:function(e){t.$set(t.PostInfoCate,"app_website",e)},expression:"PostInfoCate.app_website"}})],1),a("a-form-model-item",{attrs:{label:"开发者"}},[a("a-input",{model:{value:t.PostInfoCate.app_developer,callback:function(e){t.$set(t.PostInfoCate,"app_developer",e)},expression:"PostInfoCate.app_developer"}})],1),a("a-form-model-item",{attrs:{label:"App描述"}},[a("a-input",{attrs:{type:"textarea"},model:{value:t.PostInfoCate.app_desc,callback:function(e){t.$set(t.PostInfoCate,"app_desc",e)},expression:"PostInfoCate.app_desc"}})],1)],1)],1)],1)},o=[],s=a("5530"),r=(a("96cf"),a("1da1")),i=a("c1df"),c=a.n(i),l=[{title:"ID",dataIndex:"ID",width:"5%",key:"id",align:"center"},{title:"提交日期",dataIndex:"CreatedAt",width:"10%",key:"CreatedAt",align:"center",customRender:function(t){return t?c()(t).format("YYYY年MM月DD日"):"暂无"}},{title:"分类",dataIndex:"Category.name",width:"10%",key:"Category.name",align:"center"},{title:"App名称",dataIndex:"app_name",width:"10%",key:"app_name",align:"center"},{title:"App状态",dataIndex:"Tag.tag_name",width:"15%",key:"Tag.tag_name",align:"center"},{title:"开发者",dataIndex:"app_developer",width:"15%",key:"app_developer",align:"center"},{title:"提交者",dataIndex:"user_name",width:"10%",key:"user_name",align:"center"},{title:"提交者邮箱",dataIndex:"email",width:"10%",key:"email",align:"center"},{title:"操作",width:"15%",key:"action",align:"center",scopedSlots:{customRender:"action"}}],p={props:["id"],data:function(){return{pagination:{pageSizeOptions:["5","10","20"],pageSize:10,total:0,showSizeChanger:!0,showTotal:function(t){return"共".concat(t,"条")}},PostInfoCatelist:[],Catelist:[],Taglist:[],columns:l,addPostInfoCateVisible:!1,editPostInfoCateVisible:!1,queryParam:{app_name:"",pagesize:10,pagenum:1},newPostInfoCate:{app_name:"",app_version:"",app_webpage:"",app_desc:"",app_developer:"",user_name:"",email:"",category_id:2,tag_id:1},PostInfoCate:{app_name:"",app_version:"",app_webpage:"",app_desc:"",app_developer:"",user_name:"",email:"",category_id:2,tag_id:1}}},created:function(){this.getPostInfoCateList(),this.getCateList(),this.getTaglist()},methods:{getPostInfoCateList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("postinfo/category/".concat(t.id),{params:{app_name:t.queryParam.app_name,pagesize:t.queryParam.pagesize,pagenum:t.queryParam.pagenum}});case 2:a=e.sent,n=a.data,200!==n.status&&(n.status,window.sessionStorage.clear(),t.$router.push("/login"),t.$message.error(n.message)),t.PostInfoCatelist=n.data,t.pagination.total=n.total;case 7:case"end":return e.stop()}}),e)})))()},getCateList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("category/list");case 2:if(a=e.sent,n=a.data,200===n.status){e.next=6;break}return e.abrupt("return",t.$message.error(n.message));case 6:t.Catelist=n.data;case 7:case"end":return e.stop()}}),e)})))()},getTaglist:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tag/list");case 2:if(a=e.sent,n=a.data,200===n.status){e.next=6;break}return e.abrupt("return",t.$message.error(n.message));case 6:t.Taglist=n.data;case 7:case"end":return e.stop()}}),e)})))()},handleTableChange:function(t,e,a){var n=Object(s["a"])({},this.pagination);n.current=t.current,n.pageSize=t.pageSize,this.queryParam.pagesize=t.pageSize,this.queryParam.pagenum=t.current,t.pageSize!==this.pagination.pageSize&&(this.queryParam.pagenum=1,n.current=1),this.pagination=n,this.getPostInfoCateList()},cateChange:function(t){this.newPostInfoCate.category_id=t},tagChange:function(t){this.newPostInfoCate.tag_id=t},deletePostInfoCate:function(t){var e=this;this.$confirm({title:"提示：请再次确认",content:"确定要删除该文章吗？一旦删除，无法恢复",onOk:function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.delete("postinfo/delete/".concat(t));case 2:if(n=a.sent,o=n.data,200==o.status){a.next=6;break}return a.abrupt("return",e.$message.error(o.message));case 6:e.$message.success("删除成功"),e.getPostInfoCateList();case 8:case"end":return a.stop()}}),a)})));function n(){return a.apply(this,arguments)}return n}(),onCancel:function(){e.$message.info("已取消删除")}})},editPostInfoCate:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.editPostInfoCateVisible=!0,a.next=3,e.$http.get("postinfo/info/".concat(t));case 3:n=a.sent,o=n.data,e.PostInfoCate=o.data,e.PostInfoCate.id=t;case 7:case"end":return a.stop()}}),a)})))()},editPostInfoCateOk:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.put("postinfo/edit/".concat(t.PostInfoCate.id),t.PostInfoCate);case 2:if(a=e.sent,n=a.data,200==n.status){e.next=6;break}return e.abrupt("return",t.$message.error(n.message));case 6:t.editPostInfoCateVisible=!1,t.$message.success("更新分类信息成功"),t.getPostInfoCateList();case 9:case"end":return e.stop()}}),e)})))()},editPostInfoCateCancel:function(){this.editPostInfoCateVisible=!1,this.$message.info("编辑已取消")},gotoCatePage:function(t){this.$router.push("/postinfo/catelist/".concat(t))},gotoTagPage:function(t){this.$router.push("/postinfo/taglist/".concat(t))}}},u=p,f=(a("c048"),a("2877")),d=Object(f["a"])(u,n,o,!1,null,"69b89495",null);e["default"]=d.exports},"42ac":function(t,e,a){"use strict";a("969a")},4952:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-input-search",{attrs:{placeholder:"输入表单名查找","enter-button":"",allowClear:""},on:{search:t.getPostInfoList},model:{value:t.queryParam.app_name,callback:function(e){t.$set(t.queryParam,"app_name",e)},expression:"queryParam.app_name"}})],1),a("a-col",{attrs:{span:4}},[a("a-button",{attrs:{type:"primary"},on:{click:function(e){t.addPostInfoVisible=!0}}},[t._v("新增")])],1),a("a-col",{attrs:{span:3}},[a("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择分类"},on:{change:t.gotoCatePage}},t._l(t.Catelist,(function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1),a("a-col",{attrs:{span:1}},[a("a-button",{attrs:{type:"info"},on:{click:function(e){return t.router.push("postinfo")}}},[t._v("显示全部")])],1),a("a-col",{attrs:{span:3,offset:2}},[a("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择状态"},on:{change:t.gotoTagPage}},t._l(t.Taglist,(function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.tag_name))])})),1)],1),a("a-col",{attrs:{span:1}},[a("a-button",{attrs:{type:"info"},on:{click:function(e){return t.router.push("postinfo")}}},[t._v("显示全部")])],1)],1),a("a-table",{attrs:{rowKey:"ID",columns:t.columns,pagination:t.pagination,dataSource:t.PostInfolist,bordered:""},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"action",fn:function(e){return[a("div",{staticClass:"actionSlot"},[a("a-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small",type:"primary",icon:"edit"},on:{click:function(a){return t.editPostInfo(e.ID)}}},[t._v("编辑")]),a("a-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small",type:"danger",icon:"delete"},on:{click:function(a){return t.deletePostInfo(e.ID)}}},[t._v("删除")])],1)]}}])})],1),a("a-modal",{attrs:{closable:"",visible:t.addPostInfoVisible,width:"60%",destroyOnClose:""},on:{ok:t.addPostInfoOk,cancel:t.addPostInfoCancel}},[a("a-form-model",{model:{value:t.newPostInfo,callback:function(e){t.newPostInfo=e},expression:"newPostInfo"}},[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{label:"提供人"}},[a("a-input",{model:{value:t.newPostInfo.user_name,callback:function(e){t.$set(t.newPostInfo,"user_name",e)},expression:"newPostInfo.user_name"}})],1)],1),a("a-col",{attrs:{span:6,offset:4}},[a("a-form-model-item",{attrs:{label:"提供人邮箱"}},[a("a-input",{model:{value:t.newPostInfo.email,callback:function(e){t.$set(t.newPostInfo,"email",e)},expression:"newPostInfo.email"}})],1)],1)],1),a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{label:"App分类"}},[a("a-select",{on:{change:t.cateChange},model:{value:t.newPostInfo.category_id,callback:function(e){t.$set(t.newPostInfo,"category_id",e)},expression:"newPostInfo.category_id"}},t._l(t.Catelist,(function(e){return a("a-select-option",{key:e.id},[t._v(t._s(e.name))])})),1)],1)],1),a("a-col",{attrs:{span:6,offset:4}},[a("a-form-model-item",{attrs:{label:"状态"}},[a("a-select",{on:{change:t.tagChange},model:{value:t.newPostInfo.tag_id,callback:function(e){t.$set(t.newPostInfo,"tag_id",e)},expression:"newPostInfo.tag_id"}},t._l(t.Taglist,(function(e){return a("a-select-option",{key:e.id},[t._v(t._s(e.tag_name))])})),1)],1)],1)],1),a("a-form-model-item",{attrs:{label:"App名称"}},[a("a-input",{model:{value:t.newPostInfo.app_name,callback:function(e){t.$set(t.newPostInfo,"app_name",e)},expression:"newPostInfo.app_name"}})],1),a("a-form-model-item",{attrs:{label:"App版本"}},[a("a-input",{model:{value:t.newPostInfo.app_verison,callback:function(e){t.$set(t.newPostInfo,"app_verison",e)},expression:"newPostInfo.app_verison"}})],1),a("a-form-model-item",{attrs:{label:"App网站"}},[a("a-input",{model:{value:t.newPostInfo.app_website,callback:function(e){t.$set(t.newPostInfo,"app_website",e)},expression:"newPostInfo.app_website"}})],1),a("a-form-model-item",{attrs:{label:"开发者"}},[a("a-input",{model:{value:t.newPostInfo.app_developer,callback:function(e){t.$set(t.newPostInfo,"app_developer",e)},expression:"newPostInfo.app_developer"}})],1),a("a-form-model-item",{attrs:{label:"App描述"}},[a("a-input",{attrs:{type:"textarea"},model:{value:t.newPostInfo.app_desc,callback:function(e){t.$set(t.newPostInfo,"app_desc",e)},expression:"newPostInfo.app_desc"}})],1)],1)],1),a("a-modal",{attrs:{closable:"",visible:t.editPostInfoVisible,width:"60%",destroyOnClose:""},on:{ok:t.editPostInfoOk,cancel:t.editPostInfoCancel}},[a("a-form-model",{model:{value:t.PostInfo,callback:function(e){t.PostInfo=e},expression:"PostInfo"}},[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{label:"提供人"}},[a("a-input",{model:{value:t.PostInfo.user_name,callback:function(e){t.$set(t.PostInfo,"user_name",e)},expression:"PostInfo.user_name"}})],1)],1),a("a-col",{attrs:{span:6,offset:4}},[a("a-form-model-item",{attrs:{label:"提供人邮箱"}},[a("a-input",{model:{value:t.PostInfo.email,callback:function(e){t.$set(t.PostInfo,"email",e)},expression:"PostInfo.email"}})],1)],1)],1),a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{label:"App分类"}},[a("a-select",{on:{change:t.cateChange},model:{value:t.PostInfo.category_id,callback:function(e){t.$set(t.PostInfo,"category_id",e)},expression:"PostInfo.category_id"}},t._l(t.Catelist,(function(e){return a("a-select-option",{key:e.id},[t._v(t._s(e.name))])})),1)],1)],1),a("a-col",{attrs:{span:6,offset:4}},[a("a-form-model-item",{attrs:{label:"状态"}},[a("a-select",{on:{change:t.tagChange},model:{value:t.PostInfo.tag_id,callback:function(e){t.$set(t.PostInfo,"tag_id",e)},expression:"PostInfo.tag_id"}},t._l(t.Taglist,(function(e){return a("a-select-option",{key:e.id},[t._v(t._s(e.tag_name))])})),1)],1)],1)],1),a("a-form-model-item",{attrs:{label:"App名称"}},[a("a-input",{model:{value:t.PostInfo.app_name,callback:function(e){t.$set(t.PostInfo,"app_name",e)},expression:"PostInfo.app_name"}})],1),a("a-form-model-item",{attrs:{label:"App版本"}},[a("a-input",{model:{value:t.PostInfo.app_verison,callback:function(e){t.$set(t.PostInfo,"app_verison",e)},expression:"PostInfo.app_verison"}})],1),a("a-form-model-item",{attrs:{label:"App网站"}},[a("a-input",{model:{value:t.PostInfo.app_website,callback:function(e){t.$set(t.PostInfo,"app_website",e)},expression:"PostInfo.app_website"}})],1),a("a-form-model-item",{attrs:{label:"开发者"}},[a("a-input",{model:{value:t.PostInfo.app_developer,callback:function(e){t.$set(t.PostInfo,"app_developer",e)},expression:"PostInfo.app_developer"}})],1),a("a-form-model-item",{attrs:{label:"App描述"}},[a("a-input",{attrs:{type:"textarea"},model:{value:t.PostInfo.app_desc,callback:function(e){t.$set(t.PostInfo,"app_desc",e)},expression:"PostInfo.app_desc"}})],1)],1)],1)],1)},o=[],s=a("5530"),r=(a("96cf"),a("1da1")),i=a("c1df"),c=a.n(i),l=[{title:"ID",dataIndex:"ID",width:"5%",key:"id",align:"center"},{title:"提交日期",dataIndex:"CreatedAt",width:"10%",key:"CreatedAt",align:"center",customRender:function(t){return t?c()(t).format("YYYY年MM月DD日"):"暂无"}},{title:"分类",dataIndex:"Category.name",width:"10%",key:"Category.name",align:"center"},{title:"App名称",dataIndex:"app_name",width:"10%",key:"app_name",align:"center"},{title:"App状态",dataIndex:"Tag.tag_name",width:"15%",key:"Tag.tag_name",align:"center"},{title:"开发者",dataIndex:"app_developer",width:"15%",key:"app_developer",align:"center"},{title:"提交者",dataIndex:"user_name",width:"10%",key:"user_name",align:"center"},{title:"提交者邮箱",dataIndex:"email",width:"10%",key:"email",align:"center"},{title:"操作",width:"15%",key:"action",align:"center",scopedSlots:{customRender:"action"}}],p={data:function(){return{pagination:{pageSizeOptions:["5","10","20"],pageSize:10,total:0,showSizeChanger:!0,showTotal:function(t){return"共".concat(t,"条")}},PostInfolist:[],Catelist:[],Taglist:[],columns:l,addPostInfoVisible:!1,editPostInfoVisible:!1,queryParam:{app_name:"",pagesize:10,pagenum:1},newPostInfo:{app_name:"",app_version:"",app_webpage:"",app_desc:"",app_developer:"",user_name:"",email:"",category_id:2,tag_id:1},PostInfo:{app_name:"",app_version:"",app_webpage:"",app_desc:"",app_developer:"",user_name:"",email:"",category_id:2,tag_id:1}}},created:function(){this.getPostInfoList(),this.getCateList(),this.getTaglist()},methods:{getPostInfoList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("postinfo/list",{params:{app_name:t.queryParam.app_name,pagesize:t.queryParam.pagesize,pagenum:t.queryParam.pagenum}});case 2:a=e.sent,n=a.data,200!==n.status&&(n.status,window.sessionStorage.clear(),t.$router.push("/login"),t.$message.error(n.message)),t.PostInfolist=n.data,t.pagination.total=n.total;case 7:case"end":return e.stop()}}),e)})))()},getCateList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("category/list");case 2:if(a=e.sent,n=a.data,200===n.status){e.next=6;break}return e.abrupt("return",t.$message.error(n.message));case 6:t.Catelist=n.data;case 7:case"end":return e.stop()}}),e)})))()},getTaglist:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tag/list");case 2:if(a=e.sent,n=a.data,200===n.status){e.next=6;break}return e.abrupt("return",t.$message.error(n.message));case 6:t.Taglist=n.data;case 7:case"end":return e.stop()}}),e)})))()},handleTableChange:function(t,e,a){var n=Object(s["a"])({},this.pagination);n.current=t.current,n.pageSize=t.pageSize,this.queryParam.pagesize=t.pageSize,this.queryParam.pagenum=t.current,t.pageSize!==this.pagination.pageSize&&(this.queryParam.pagenum=1,n.current=1),this.pagination=n,this.getPostInfoList()},addPostInfoOk:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("postinfo/add",t.newPostInfo);case 2:if(a=e.sent,n=a.data,200==n.status){e.next=6;break}return e.abrupt("return",t.$message.error(n.message));case 6:return t.addPostInfoVisible=!1,t.$message.success("添加表单成功"),e.next=10,t.getPostInfoList();case 10:case"end":return e.stop()}}),e)})))()},addPostInfoCancel:function(){this.addPostInfoVisible=!1,this.$message.info("新增表单已取消")},cateChange:function(t){this.newPostInfo.category_id=t},tagChange:function(t){this.newPostInfo.tag_id=t},deletePostInfo:function(t){var e=this;this.$confirm({title:"提示：请再次确认",content:"确定要删除该文章吗？一旦删除，无法恢复",onOk:function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.delete("postinfo/delete/".concat(t));case 2:if(n=a.sent,o=n.data,200==o.status){a.next=6;break}return a.abrupt("return",e.$message.error(o.message));case 6:e.$message.success("删除成功"),e.getPostInfoList();case 8:case"end":return a.stop()}}),a)})));function n(){return a.apply(this,arguments)}return n}(),onCancel:function(){e.$message.info("已取消删除")}})},editPostInfo:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.editPostInfoVisible=!0,a.next=3,e.$http.get("postinfo/info/".concat(t));case 3:n=a.sent,o=n.data,e.PostInfo=o.data,e.PostInfo.id=t;case 7:case"end":return a.stop()}}),a)})))()},editPostInfoOk:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.put("postinfo/edit/".concat(t.PostInfo.id),t.PostInfo);case 2:if(a=e.sent,n=a.data,200==n.status){e.next=6;break}return e.abrupt("return",t.$message.error(n.message));case 6:t.editPostInfoVisible=!1,t.$message.success("更新分类信息成功"),t.getPostInfoList();case 9:case"end":return e.stop()}}),e)})))()},editPostInfoCancel:function(){this.editPostInfoVisible=!1,this.$message.info("编辑已取消")},gotoCatePage:function(t){this.$router.push("/postinfo/catelist/".concat(t))},gotoTagPage:function(t){this.$router.push("/postinfo/taglist/".concat(t))}}},u=p,f=(a("0fd5"),a("2877")),d=Object(f["a"])(u,n,o,!1,null,"77f34ef2",null);e["default"]=d.exports},"4ed7":function(t,e,a){},"969a":function(t,e,a){},c048:function(t,e,a){"use strict";a("4ed7")},d054:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-input-search",{attrs:{placeholder:"输入App名查找","enter-button":"",allowClear:""},on:{search:t.getPostInfoList},model:{value:t.queryParam.app_name,callback:function(e){t.$set(t.queryParam,"app_name",e)},expression:"queryParam.app_name"}})],1),a("a-col",{attrs:{span:3,offset:2}},[a("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择分类"},on:{change:t.gotoCatePage}},t._l(t.Catelist,(function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1),a("a-col",{attrs:{span:1}},[a("a-button",{attrs:{type:"info"},on:{click:function(e){return t.router.push("postinfo")}}},[t._v("显示全部")])],1),a("a-col",{attrs:{span:3,offset:2}},[a("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择状态"},on:{change:t.gotoTagPage}},t._l(t.Taglist,(function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.tag_name))])})),1)],1),a("a-col",{attrs:{span:1}},[a("a-button",{attrs:{type:"info"},on:{click:function(e){return t.router.push("postinfo")}}},[t._v("显示全部")])],1)],1),a("a-table",{attrs:{rowKey:"ID",columns:t.columns,pagination:t.pagination,dataSource:t.PostInfolist,bordered:""},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"action",fn:function(e){return[a("div",{staticClass:"actionSlot"},[a("a-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small",type:"danger",icon:"edit"},on:{click:function(a){return t.appPost(e.ID)}}},[t._v("提交")]),a("a-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small",type:"primary",icon:"edit"},on:{click:function(a){return t.editPostInfo(e.ID)}}},[t._v("编辑")]),a("a-button",{staticStyle:{"margin-right":"15px"},attrs:{size:"small",type:"danger",icon:"delete"},on:{click:function(a){return t.deletePostInfo(e.ID)}}},[t._v("删除")])],1)]}}])})],1),a("a-modal",{attrs:{closable:"",visible:t.editPostInfoVisible,width:"60%",destroyOnClose:""},on:{ok:t.editPostInfoOk,cancel:t.editPostInfoCancel}},[a("a-form-model",{model:{value:t.EditPostInfo,callback:function(e){t.EditPostInfo=e},expression:"EditPostInfo"}},[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{label:"提供人"}},[a("a-input",{model:{value:t.EditPostInfo.user_name,callback:function(e){t.$set(t.EditPostInfo,"user_name",e)},expression:"EditPostInfo.user_name"}})],1)],1),a("a-col",{attrs:{span:6,offset:4}},[a("a-form-model-item",{attrs:{label:"提供人邮箱"}},[a("a-input",{model:{value:t.EditPostInfo.email,callback:function(e){t.$set(t.EditPostInfo,"email",e)},expression:"EditPostInfo.email"}})],1)],1)],1),a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{label:"App分类"}},[a("a-select",{on:{change:t.cateEditChange},model:{value:t.EditPostInfo.category_id,callback:function(e){t.$set(t.EditPostInfo,"category_id",e)},expression:"EditPostInfo.category_id"}},t._l(t.Catelist,(function(e){return a("a-select-option",{key:e.id},[t._v(t._s(e.name))])})),1)],1)],1),a("a-col",{attrs:{span:6,offset:4}},[a("a-form-model-item",{attrs:{label:"状态"}},[a("a-select",{on:{change:t.tagEditChange},model:{value:t.EditPostInfo.tag_id,callback:function(e){t.$set(t.EditPostInfo,"tag_id",e)},expression:"EditPostInfo.tag_id"}},t._l(t.Taglist,(function(e){return a("a-select-option",{key:e.id},[t._v(t._s(e.tag_name))])})),1)],1)],1)],1),a("a-form-model-item",{attrs:{label:"App名称"}},[a("a-input",{model:{value:t.EditPostInfo.app_name,callback:function(e){t.$set(t.EditPostInfo,"app_name",e)},expression:"EditPostInfo.app_name"}})],1),a("a-form-model-item",{attrs:{label:"App版本"}},[a("a-input",{model:{value:t.EditPostInfo.app_verison,callback:function(e){t.$set(t.EditPostInfo,"app_verison",e)},expression:"EditPostInfo.app_verison"}})],1),a("a-form-model-item",{attrs:{label:"App网站"}},[a("a-input",{model:{value:t.EditPostInfo.app_website,callback:function(e){t.$set(t.EditPostInfo,"app_website",e)},expression:"EditPostInfo.app_website"}})],1),a("a-form-model-item",{attrs:{label:"开发者"}},[a("a-input",{model:{value:t.EditPostInfo.app_developer,callback:function(e){t.$set(t.EditPostInfo,"app_developer",e)},expression:"EditPostInfo.app_developer"}})],1),a("a-form-model-item",{attrs:{label:"App描述"}},[a("a-input",{attrs:{type:"textarea"},model:{value:t.EditPostInfo.app_desc,callback:function(e){t.$set(t.EditPostInfo,"app_desc",e)},expression:"EditPostInfo.app_desc"}})],1)],1)],1)],1)},o=[],s=a("5530"),r=(a("96cf"),a("1da1")),i=a("c1df"),c=a.n(i),l=[{title:"ID",dataIndex:"ID",width:"5%",key:"id",align:"center"},{title:"提交日期",dataIndex:"CreatedAt",width:"10%",key:"CreatedAt",align:"center",customRender:function(t){return t?c()(t).format("YYYY年MM月DD日"):"暂无"}},{title:"分类",dataIndex:"Category.name",width:"10%",key:"Category.name",align:"center"},{title:"App名称",dataIndex:"app_name",width:"10%",key:"app_name",align:"center"},{title:"App状态",dataIndex:"Tag.tag_name",width:"15%",key:"Tag.tag_name",align:"center"},{title:"开发者",dataIndex:"app_developer",width:"10%",key:"app_developer",align:"center"},{title:"提交者",dataIndex:"user_name",width:"10%",key:"user_name",align:"center"},{title:"提交者邮箱",dataIndex:"email",width:"10%",key:"email",align:"center"},{title:"操作",width:"15%",key:"action",align:"center",scopedSlots:{customRender:"action"}}],p={data:function(){return{pagination:{pageSizeOptions:["5","10","20"],pageSize:10,total:0,showSizeChanger:!0,showTotal:function(t){return"共".concat(t,"条")}},PostInfolist:[],Catelist:[],Taglist:[],columns:l,addPostInfoVisible:!1,editPostInfoVisible:!1,queryParam:{app_name:"",pagesize:10,pagenum:1},newPostInfo:{app_name:"",app_version:"",app_webpage:"",app_desc:"",app_developer:"",user_name:"",email:"",category_id:2,tag_id:1},appInfo:{app_name:"",app_version:"",app_webpage:"",app_desc:"",app_developer:"",user_name:"",email:"",category_id:void 0,tag_id:void 0},PostInfo:{ID:void 0,app_name:"",app_version:"",app_webpage:"",app_desc:"",app_developer:"",user_name:"",email:"",category_id:void 0,tag_id:void 0},EditPostInfo:{ID:void 0,app_name:"",app_version:"",app_webpage:"",app_desc:"",app_developer:"",user_name:"",email:"",category_id:void 0,tag_id:void 0}}},created:function(){this.getPostInfoList(),this.getCateList(),this.getTaglist()},methods:{getPostInfoList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("postinfo/list",{params:{app_name:t.queryParam.app_name,pagesize:t.queryParam.pagesize,pagenum:t.queryParam.pagenum}});case 2:a=e.sent,n=a.data,200!==n.status&&(n.status,window.sessionStorage.clear(),t.$router.push("/login"),t.$message.error(n.message)),t.PostInfolist=n.data,t.pagination.total=n.total;case 7:case"end":return e.stop()}}),e)})))()},getCateList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("category/list");case 2:if(a=e.sent,n=a.data,200===n.status){e.next=6;break}return e.abrupt("return",t.$message.error(n.message));case 6:t.Catelist=n.data;case 7:case"end":return e.stop()}}),e)})))()},getTaglist:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("tag/list");case 2:if(a=e.sent,n=a.data,200===n.status){e.next=6;break}return e.abrupt("return",t.$message.error(n.message));case 6:t.Taglist=n.data;case 7:case"end":return e.stop()}}),e)})))()},handleTableChange:function(t,e,a){var n=Object(s["a"])({},this.pagination);n.current=t.current,n.pageSize=t.pageSize,this.queryParam.pagesize=t.pageSize,this.queryParam.pagenum=t.current,t.pageSize!==this.pagination.pageSize&&(this.queryParam.pagenum=1,n.current=1),this.pagination=n,this.getPostInfoList()},addPostInfoOk:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("postinfo/add",t.newPostInfo);case 2:if(a=e.sent,n=a.data,200==n.status){e.next=6;break}return e.abrupt("return",t.$message.error(n.message));case 6:return t.addPostInfoVisible=!1,t.$message.success("添加表单成功"),e.next=10,t.getPostInfoList();case 10:case"end":return e.stop()}}),e)})))()},addPostInfoCancel:function(){this.addPostInfoVisible=!1,this.$message.info("新增表单已取消")},cateChange:function(t){this.newPostInfo.category_id=t},tagChange:function(t){this.newPostInfo.tag_id=t},cateEditChange:function(t){this.PostInfo.category_id=t},tagEditChange:function(t){this.PostInfo.tag_id=t},deletePostInfo:function(t){var e=this;this.$confirm({title:"提示：请再次确认",content:"确定要删除该文章吗？一旦删除，无法恢复",onOk:function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.delete("postinfo/delete/".concat(t));case 2:if(n=a.sent,o=n.data,200==o.status){a.next=6;break}return a.abrupt("return",e.$message.error(o.message));case 6:e.$message.success("删除成功"),e.getPostInfoList();case 8:case"end":return a.stop()}}),a)})));function n(){return a.apply(this,arguments)}return n}(),onCancel:function(){e.$message.info("已取消删除")}})},appPost:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.get("postinfo/info/".concat(t));case 2:n=a.sent,o=n.data,e.appInfo=o.data,console.log("res.data: ",o.data),e.appInfo.ID=0,e.$confirm({title:"提示：请再次确认",content:"确定要提交该表单到appinfo吗？",onOk:function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.post("appinfo/add",e.appInfo);case 2:if(n=a.sent,o=n.data,200==o.status){a.next=6;break}return a.abrupt("return",e.$message.error(o.message));case 6:return e.$message.success("提交成功"),a.next=9,e.$http.delete("postinfo/delete/".concat(t));case 9:e.getPostInfoList();case 10:case"end":return a.stop()}}),a)})));function n(){return a.apply(this,arguments)}return n}(),onCancel:function(){e.$message.info("已取消提交")}});case 8:case"end":return a.stop()}}),a)})))()},editPostInfo:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.editPostInfoVisible=!0,a.next=3,e.$http.get("postinfo/info/".concat(t));case 3:n=a.sent,o=n.data,e.EditPostInfo=o.data,console.log(" this.EditPostInfo: ",e.EditPostInfo),console.log("res.data: ",o.data),e.PostInfo.ID=o.data.ID;case 9:case"end":return a.stop()}}),a)})))()},editPostInfoOk:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.put("postinfo/edit/".concat(t.PostInfo.ID),t.EditPostInfo);case 2:if(a=e.sent,n=a.data,200==n.status){e.next=6;break}return e.abrupt("return",t.$message.error(n.message));case 6:t.editPostInfoVisible=!1,t.$message.success("更新表单信息成功"),t.getPostInfoList();case 9:case"end":return e.stop()}}),e)})))()},editPostInfoCancel:function(){this.editPostInfoVisible=!1,this.$message.info("编辑已取消")},gotoCatePage:function(t){this.$router.push("/postinfo/catelist/".concat(t))},gotoTagPage:function(t){this.$router.push("/postinfo/taglist/".concat(t))}}},u=p,f=(a("42ac"),a("2877")),d=Object(f["a"])(u,n,o,!1,null,"f9afbf32",null);e["default"]=d.exports}}]);
//# sourceMappingURL=AppList.68a6dcf5.js.map